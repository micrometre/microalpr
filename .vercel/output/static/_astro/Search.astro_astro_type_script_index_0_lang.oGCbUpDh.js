const E="modulepreload",v=function(h){return"/"+h},p={},w=function(c,l,a){let d=Promise.resolve();if(l&&l.length>0){const s=document.getElementsByTagName("link");d=Promise.all(l.map(t=>{if(t=v(t),t in p)return;p[t]=!0;const n=t.endsWith(".css"),u=n?'[rel="stylesheet"]':"";if(!!a)for(let r=s.length-1;r>=0;r--){const e=s[r];if(e.href===t&&(!n||e.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${u}`))return;const o=document.createElement("link");if(o.rel=n?"stylesheet":E,n||(o.as="script",o.crossOrigin=""),o.href=t,document.head.appendChild(o),n)return new Promise((r,e)=>{o.addEventListener("load",r),o.addEventListener("error",()=>e(new Error(`Unable to preload CSS for ${t}`)))})}))}return d.then(()=>c()).catch(s=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=s,window.dispatchEvent(t),!t.defaultPrevented)throw s})};class y extends HTMLElement{constructor(){super();const c=this.querySelector("button[data-open-modal]"),l=this.querySelector("button[data-close-modal]"),a=this.querySelector("dialog"),d=this.querySelector(".dialog-frame"),s=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!d.contains(e.target))&&n()},t=e=>{a.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",s)},n=()=>a.close();c.addEventListener("click",t),c.disabled=!1,l.addEventListener("click",n),a.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",s)}),window.addEventListener("keydown",e=>{const i=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"?(a.open?n():t(),e.preventDefault()):e.key==="/"&&!a.open&&!i&&(t(),e.preventDefault())});let u={};try{u=JSON.parse(this.dataset.translations||"{}")}catch{}const r=this.dataset.stripTrailingSlash!==void 0?e=>e.replace(/(.)\/(#.*)?$/,"$1$2"):e=>e;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(i=>setTimeout(i,1)))(async()=>{const{PagefindUI:i}=await w(()=>import("./ui-core.cMRm7GGm.js"),__vite__mapDeps([]));new i({element:"#starlight__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:u,showSubResults:!0,processResult:m=>{m.url=r(m.url),m.sub_results=m.sub_results.map(f=>(f.url=r(f.url),f))}})})})}}customElements.define("site-search",y);export{w as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
